{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ptshi\\\\new\\\\Event-Management-System-1\\\\front-end\\\\src\\\\components\\\\login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport Alert from \"../alert/Alert\";\nimport Auth from '../../Authentication/Auth';\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      redirect: false,\n      userRegAlert: false,\n      userRegMsg: \"\",\n      userRegTheme: \"\",\n      isLogged: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.addlogin = this.addlogin.bind(this);\n  }\n  onChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n  async addlogin(event) {\n    event.preventDefault();\n    if (this.state.email.trim() !== 0) {\n      this.setState({\n        userRegAlert: false\n      });\n      try {\n        const requestOptions = {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: this.state.email.toLowerCase(),\n            password: this.state.password\n          })\n        };\n        const res = await fetch(\"http://localhost:5000/user/login\", requestOptions);\n        const data = await res.json();\n        if (data.hasOwnProperty(\"accessToken\")) {\n          localStorage.setItem(\"token\", data.accessToken);\n          this.setState({\n            redirect: true\n          });\n        } else {\n          this.setState({\n            userRegMsg: data.error,\n            userRegAlert: true,\n            userRegTheme: \"danger\"\n          });\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 20\n        }\n      });\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      show: this.state.userRegAlert,\n      theme: this.state.userRegTheme,\n      msg: this.state.userRegMsg,\n      hideAlert: this.hideAlert,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"mt-5 col-lg-6 mx-auto\",\n      onSubmit: this.addlogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, \"New to Event Hub? Quickly \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 58\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 77\n      }\n    }, \"signup\")), \" for an account now.\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"inputEmail3\",\n      class: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      onChange: this.onChange,\n      class: \"form-control\",\n      id: \"inputEmail3\",\n      value: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"inputPassword3\",\n      class: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.onChange,\n      name: \"password\",\n      class: \"form-control\",\n      id: \"inputPassword3\",\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \" mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary col-3 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 33\n      }\n    }, \"Log in\"))))));\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Component","Redirect","Alert","Auth","Login","constructor","props","state","email","password","redirect","userRegAlert","userRegMsg","userRegTheme","isLogged","onChange","bind","addlogin","event","target","value","name","setState","preventDefault","trim","requestOptions","method","headers","body","JSON","stringify","toLowerCase","res","fetch","data","json","hasOwnProperty","localStorage","setItem","accessToken","error","e","console","log","render","createElement","to","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","show","theme","msg","hideAlert","onSubmit","class","href","for","type","id"],"sources":["C:/Users/ptshi/new/Event-Management-System-1/front-end/src/components/login/Login.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport Alert from \"../alert/Alert\";\r\nimport Auth from '../../Authentication/Auth';\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        email: \"\",\r\n      password: \"\",\r\n      redirect: false,\r\n      userRegAlert: false,\r\n      userRegMsg: \"\",\r\n      userRegTheme: \"\",\r\n      isLogged:false\r\n        }\r\n        \r\n        this.onChange = this.onChange.bind(this);\r\n        this.addlogin = this.addlogin.bind(this);\r\n    }\r\n    onChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value,\r\n        });\r\n      }\r\n\r\n      async addlogin(event) {\r\n        event.preventDefault();\r\n        if (this.state.email.trim() !== 0) {\r\n            this.setState({\r\n                userRegAlert: false,\r\n              });\r\n          try {\r\n            const requestOptions = {\r\n              method: \"POST\",\r\n              headers: { \"Content-Type\": \"application/json\" },\r\n              body: JSON.stringify({\r\n                email: this.state.email.toLowerCase(),\r\n                password: this.state.password,\r\n              }),\r\n            };\r\n            const res = await fetch(\r\n              \"http://localhost:5000/user/login\",\r\n              requestOptions\r\n            );\r\n    \r\n            const data = await res.json();\r\n    \r\n            if (data.hasOwnProperty(\"accessToken\")) {\r\n              localStorage.setItem(\"token\", data.accessToken);\r\n              this.setState({\r\n                redirect: true,\r\n              });\r\n            } else {\r\n              this.setState({\r\n                userRegMsg: data.error,\r\n                userRegAlert: true,\r\n                userRegTheme: \"danger\",\r\n              });\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          }\r\n        }\r\n      }\r\n    \r\n    render() {\r\n        if (this.state.redirect) {\r\n            return <Redirect to=\"/home\" />;\r\n          }\r\n        return (\r\n            \r\n            <div className=\"container\">\r\n                <Alert\r\n                        show={this.state.userRegAlert}\r\n                        theme={this.state.userRegTheme}\r\n                        msg={this.state.userRegMsg}\r\n                        hideAlert={this.hideAlert}\r\n                      />\r\n                <div className=\"row\">\r\n                    <form className=\"mt-5 col-lg-6 mx-auto\" onSubmit={this.addlogin}>\r\n                    <div class=\"form-group row\">\r\n                            <p>New to Event Hub? Quickly <a href=\"register\"><strong>signup</strong></a> for an account now.</p>\r\n                            \r\n                        </div>\r\n                        \r\n                        <div class=\"form-group row\">\r\n                            <label for=\"inputEmail3\" class=\"col-sm-2 col-form-label\">Email</label>\r\n                            <div class=\"col-sm-10\">\r\n                                <input type=\"email\" name=\"email\" onChange={this.onChange} class=\"form-control\" id=\"inputEmail3\" value={this.state.email}\r\n />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label for=\"inputPassword3\" class=\"col-sm-2 col-form-label\">Password</label>\r\n                            <div class=\"col-sm-10\">\r\n                                <input type=\"password\" onChange={this.onChange} name=\"password\" class=\"form-control\" id=\"inputPassword3\" value={this.state.password}\r\n/>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"form-group\">\r\n                            <div class=\" mx-auto\">\r\n                                <button type=\"submit\" class=\"btn btn-primary col-3 mt-2\">Log in</button>\r\n                               \r\n                            </div>\r\n                            \r\n                        </div>\r\n\r\n                    </form>\r\n                    </div>\r\n                </div>\r\n       \r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}